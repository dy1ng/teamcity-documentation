[//]: # (title: TeamCity 2021.1 Release Notes)
[//]: # (auxiliary-id: TeamCity 2021.1 Release Notes)

__Build: 92597__  
__20 May 2021__

#### Feature

[**TW-71101**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71101) — Add Poetry support for python runner  
[**TW-66634**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66634) — Git shallow clone: support option not to use local mirrors for cloud agents  
[**TW-68137**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68137) — Implement an alternative elastic based search  
[**TW-67180**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67180) — Allow switching server mode in runtime (main node \&lt;-\&gt; secondary node)  
[**TW-62537**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-62537) — Group tests by suites/packages/class on build overview page  
[**TW-69176**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69176) — Handle NuGet requests in a separate thread-pool  
[**TW-65984**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65984) — Provide support for npm/yarn  
[**TW-6439**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-6439) — Set custom parameters on automatic build triggering  
[**TW-69885**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69885) — Support Kotlin script build steps  
[**TW-54588**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-54588) — Support setup when versioned settings cannot be changed in UI and always &quot;win&quot;  
[**TW-71416**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71416) — Git auto checkout mode should check existing local mirrors into account  
[**TW-69371**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69371) — Static helpers and tips shown in the UI  
[**TW-64202**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64202) — Use service worker to cache and update projects tree  
[**TW-67330**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67330) — Filter testOccurrences by suites/packages/class in REST  
[**TW-67352**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67352) — Add a field to REST or create a new controller to get the total test duration  
[**TW-69756**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69756) — Build Queue: Pause/resume build queue in Experimental UI  
[**TW-71350**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71350) — Perforce Admin connection: provide type-safe Kotlin DSL  
[**TW-54057**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-54057) — Add &#39;Delete all files in the checkout directory&#39; option to &#39;Retry Build Trigger&#39;  
[**TW-70619**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70619) — Autodetect Kotlin script steps  
[**TW-69119**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69119) — .NET runner: Move the &quot;do not build / do not restore&quot; options up  
[**TW-69118**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69118) — .NET runner publish and run: missing &quot;do not build&quot; option  
[**TW-65459**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65459) — Add support for last build statuses url placeholders in new UI  
[**TW-69287**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69287) — Support cross-platform ReSharper Inspections and dupFinder  
[**TW-69010**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69010) — Check signature of installed plugins  
[**TW-69151**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69151) — Clean-up &amp; Server Health: make it more clear which errors can affect the clean-up process  
[**TW-71241**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71241) — Update bundled ReSharper tool and dotCover version to 2021.1.2  
[**TW-70967**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70967) — Health report to detect multi-node setup without proxy  
[**TW-45615**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-45615) — Restrict personal builds to specific users  
[**TW-69753**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69753) — Build Queue: Removing multiple builds from queue in Experimental UI  
[**TW-22292**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-22292) — Allow several VCS triggers per build configuration  
[**TW-66451**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66451) — Add test filter by suites to the new UI  
[**TW-41199**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-41199) — Support ChangeView specification in Perforce workspaces  
[**TW-70646**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70646) — Add Test connection button for ElasticSearch settings  
[**TW-69236**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69236) — Health report to detect mismatch of the server and proxy configuration  
[**TW-69875**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69875) — Replace &quot;Favorite Projects&quot; page with &quot;All Projects&quot; if there&#39;s no favorites on a small server  
[**TW-70559**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70559) — No scope when searching tests in Sakura  
[**TW-69232**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69232) — Allow controlling max number of assigned builds per secondary node  
[**TW-69235**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69235) — Provide proxy type and version information in headers  
[**TW-66202**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66202) — Allow S3 upload chunk size and minimum multipart threshold to be configurable  
[**TW-20566**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-20566) — Make status widget more discoverable  
[**TW-68887**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68887) — Docker image. Support ARM architecture (AWS ECS Graviton ARM)  
[**TW-69025**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69025) — Consider adding \[Access-Control-Allow-Origin\] header to the authenticationTest.html?csrf endpoint  
[**TW-58966**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-58966) — Provide perforce/helix binaries to teamcity-server docker image  
[**TW-70837**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70837) — Access Tokens: Add permissions and expiration date to audit actions  
[**TW-64791**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64791) — Limit permissions scope on access token  
[**TW-69947**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69947) — Improved commit hooks support for Perforce  
[**TW-68619**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68619) — Add an ability to generate agents requirements for .NET SDK in .NET runner  
[**TW-70047**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70047) — Support .NET SDK requirement in the UI wizard and steps auto-detection  
[**TW-69755**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69755) — Build Queue: Configuring Build Priorities in Experimental UI  
[**TW-69791**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69791) — Add ability to get full list(expandInvocations:true) testOccurrences with grouping test  
[**TW-67245**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67245) — GraphQL client setup  
[**TW-70520**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70520) — Make the &quot;Command line parameters&quot; field ordinary (not advanced) for the Custom command.  
[**TW-70365**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70365) — Add Xcode full version agent parameter  
[**TW-46301**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-46301) — Provide audit for secondary node responsibilities enabling/disabling  
[**TW-69958**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69958) — Service workers: cache tabs requests  
[**TW-60944**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-60944) — &quot;View thread dump&quot; unavailable for Java programs running in Docker  
[**TW-69334**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69334) — Cleanup: create a health report that will show the problems happened during the last clean-up  
[**TW-69665**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69665) — Python runner: Add an option to set up virtual environment using venv  
[**TW-68826**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68826) — Python runner. Add an option to auto-install modules (pytest, flake8, pylint)  
[**TW-70195**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70195) — Diff view: ability to drag diff map window  
[**TW-68588**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68588) — Report amount of disk space cleaned during the clean-up process  
[**TW-69401**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69401) — Make debug-s3 logging preset available out-of-the-box

#### Usability Problem

[**TW-70648**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70648) — Change default TeamCity port in Windows installer to 8111  
[**TW-71323**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71323) — Improve search mode names and descriptions  
[**TW-69807**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69807) — Add info about successful docker login to build log  
[**TW-71432**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71432) — Provide identical names for the same Hints feature in TeamCity UI.  
[**TW-71412**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71412) — Show description for selected Search mode, not for both at once  
[**TW-71427**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71427) — Change Search project feature name in versioned settings  
[**TW-71418**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71418) — Improve error messages in Search settings  
[**TW-70651**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70651) — Removed &#39;select all&#39; checkbox from the Auto-detected steps page  
[**TW-70522**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70522) — Backup: make clear that secure values are included into backup  
[**TW-71398**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71398) — Rename Add Agent hint.  
[**TW-71204**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71204) — Improve DSL for searchBuildByNumber -\&gt; searchMode parameter  
[**TW-71411**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71411) — Should be possible to select the same build configuration for multiple Finish build triggers with customized parameters.  
[**TW-71212**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71212) — Show either &quot;Pause&quot; or &quot;Resume&quot; for search index  
[**TW-70977**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70977) — ElasticSearch Save button does not automatically create index  
[**TW-68911**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68911) — Welcome to Sakura UI page doesn&#39;t suit small displays  
[**TW-68775**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68775) — Automatically clean up Perforce stream workspaces on server  
[**TW-71090**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71090) — Increase maximum length for Group Key field  
[**TW-64859**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64859) — Branch selector is reset after changing build page to project/build configuration page  
[**TW-68004**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68004) — Favorites page: projects and build configurations sections are moving during loading the page  
[**TW-70199**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70199) — Usage statistics page needs a clear explanation  
[**TW-70704**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70704) — It is difficult to invoke tooltips for the code coverage in Experimental UI.  
[**TW-70707**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70707) — Align left code coverage bars when different types of code are analysed.  
[**TW-69275**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69275) — Reduce vertical indents for builds list  
[**TW-70972**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70972) — Improve usability of Search indexer properties and actions  
[**TW-64146**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64146) — Subprojects aren&#39;t visually distinguishable from its parents on favorites projects overview page  
[**TW-70786**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70786) — Require administrator to enter a hostname of the server for some destructive actions, like &quot;Restart&quot; or &quot;Upgrade&quot; or &quot;Delete project&quot;.  
[**TW-71096**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71096) — &quot;Error message is logged&quot; build problem should include actual error text or some instructions what to do next  
[**TW-69322**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69322) — Rename &quot;View in DSL&quot; to &quot;View as code&quot;  
[**TW-70835**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70835) — Add a short description for &quot;Get build status icon&quot; dialog  
[**TW-68057**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68057) — Hide non-portable DSL option from UI  
[**TW-70742**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70742) — Make search settings more consistent  
[**TW-70818**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70818) — Error: `There are no tests on requested 2nd page. Try going to an earlier page.`  
[**TW-70946**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70946) — Consider adding current server host to the confirmation window  
[**TW-70622**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70622) — Add validation for ElasticSearch-related fields  
[**TW-64047**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64047) — It&#39;s very hard to copy test name from new UI  
[**TW-65352**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65352) — &quot;More&quot; pages for the \_Root project in the new experimental UI  
[**TW-68395**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68395) — Difficulties when importing settings.kts project with no write access  
[**TW-70827**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70827) — The Database Connection URL doesn&#39;t display the complete JDBC connection string in Administration | Global Settings  
[**TW-63893**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-63893) — Sakura: don&#39;t hide tabs on overview pages  
[**TW-70297**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70297) — Lot of unused space on build configuration overview near &quot;Pin&quot; and &quot;Tag&quot; icons  
[**TW-65703**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65703) — Cannot copy the link to an individual test in Sakura UI  
[**TW-67550**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67550) — Unnecessary details on successful test expand  
[**TW-70225**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70225) — Change description for Processing data produced by running builds responsibility in the Enable responsibility popup.  
[**TW-60564**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-60564) — Use horizontal space more effectively on build list  
[**TW-68702**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68702) — Let&#39;s show project and build configuration favourite icon by hover  
[**TW-69111**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69111) — Not obvious how to configure building from branches  
[**TW-70119**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70119) — Permission &quot;View project and all parent projects&quot; in the Access tokens table is confusing  
[**TW-70003**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70003) — It&#39;s not possible to modify a user group (setGroupProperty) using a personal limited to project token  
[**TW-68714**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68714) — Add a link to documentation to the Auto-detected Build Steps page  
[**TW-67588**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67588) — Token settings (type and time limit) are reset after entering an invalid value

#### Bug

[**TW-60292**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-60292) — &quot;Add comment&quot; link shows &quot;Unpin&quot; window  
[**TW-71478**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71478) — Versioned settings re-enabling with the same format does not cause initial commit if repository is empty  
[**TW-71322**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71322) — Improve mandatory fields (hosts, index name) for ElasticSearch  
[**TW-71076**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71076) — No way to edit internal properties from UI after switching main node  
[**TW-69242**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69242) — Information about how many times test was run is not refreshed in Experimental UI  
[**TW-71472**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71472) — Redundant agents, not attached to their cloud image, after switching main node  
[**TW-71542**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71542) — NullPointerException in MessagesController.fetchTarget(MessagesController.java:158)  
[**TW-70623**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70623) — Saving Elasticsearch mode does not disable Lucene indexing  
[**TW-71463**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71463) — Wrong scope can be shown in the Tests tab if it was open from groped tests mode on the build Overview page  
[**TW-70789**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70789) — Get build status icon dialog is broken with long branch name  
[**TW-70791**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70791) — &quot;Get build status icon&quot; does not take selected branch in Classic UI  
[**TW-59384**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-59384) — Removed projects are cached and stay in the sidebar  
[**TW-71226**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71226) — Changing only the protocol for agent/server connection can result in the agent artifacts cache needing to be recreated  
[**TW-70661**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70661) — ElasticSearch does not automatically reindex builds  
[**TW-71102**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71102) — Agent upgrades after switching main node because of plugins disabled on secondary nodes (kubernetes)  
[**TW-71508**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71508) — Strange sorting Elasticsearch results by relevance (also in popup)  
[**TW-70644**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70644) — ElasticSearch does not work on a secondary node (Connection is prohibited by TeamCity node restrictions)  
[**TW-71402**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71402) — Build triggers customization is lost when build configuration is copied or template is extracted.  
[**TW-71433**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71433) — The header isn&#39;t displayed on an empty server with &quot;Cannot read property &#39;header-agents-active&#39; of undefined &quot;  
[**TW-71434**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71434) — Multiple Tips bubbles can be displayed in TeamCity UI.  
[**TW-71438**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71438) — Show Hint menu item is displayed on the new server though Hints are shown by default.  
[**TW-71440**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71440) — Do not display sidebar hints in Classic UI.  
[**TW-71490**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71490) — Do not suggest Build Graph hint when build has no graph.  
[**TW-71496**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71496) — Unclear hint about build statuses on project overview page.  
[**TW-71497**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71497) — &quot;Test Actions&quot; tips points to a wrong location  
[**TW-71498**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71498) — Wrong tips name on the Create project page  
[**TW-71184**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71184) — Update in Gitlab PR isn&#39;t shown (without manual refresh)  
[**TW-71500**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71500) — Server pages don&#39;t open in the latest build  
[**TW-71516**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71516) — Triggered build customization doesn&#39;t work with NuGet trigger  
[**TW-71520**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71520) — Tests tab: links to package/class/suite work incorrectly  
[**TW-71407**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71407) — Inconsistent &quot;Edit shared properties on main node&quot; link after switching main node responsibility  
[**TW-71086**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71086) — Can&#39;t change logging preset in shared data directory after switching main node  
[**TW-66805**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66805) — Unable to finish build on secondary node when the main node is down  
[**TW-70149**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70149) — Agents screen: don&#39;t show &quot;add agent pool&quot; control if there&#39;s no permissions  
[**TW-71267**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71267) — Pull requests for Azure devops: TeamCity doesn&#39;t start a new build for the new commits in old pull request  
[**TW-71197**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71197) — Sorting search results by time is broken for ElasticSearch  
[**TW-71459**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71459) — &quot;N Free agent licenses left&quot; is not refreshed after Remove/Start/Stop agent  
[**TW-69797**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69797) — List of Unauthorized agents does not show &quot;Agent licenses left&quot; info  
[**TW-69537**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69537) — Enable auto-installing python modules by default (pytest, flake8, pylint)  
[**TW-71099**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71099) — Wrong &quot;Running builds assigned to this node&quot; after switching main node  
[**TW-71464**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71464) — search plugin blocks event processing  
[**TW-71264**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71264) — Pull requests for Azure devops: information about old pull requests isn&#39;t updated automatically  
[**TW-71216**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71216) — Node.js runner: shell script with only default commands isn&#39;t published to Kotlin DSL  
[**TW-62031**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-62031) — PR Plugin: builds can be not triggered for old PRs if there are many open PR in the repository  
[**TW-71393**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71393) — Take into consideration user permissions when displaying hints.  
[**TW-71320**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71320) — Warning &quot;Failed to log action to audit&quot; in teamcity-server.log after switching main node  
[**TW-71128**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71128) — Cloud instances are not terminated after switching main node (UnsupportedOperationException: Not yet implemented)  
[**TW-70826**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70826) — Should not be possible to move read only projects.  
[**TW-67164**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67164) — Secondary node fails to synchronize the build configurations on critical error in configuration file  
[**TW-68748**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68748) — Unexpected error on trying to enable Versioned Settings on the secondary node.  
[**TW-63614**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-63614) — Outdated revision can be used for versioned settings loaded in build if versioned settings were enabled, then disabled for some time and enabled again  
[**TW-67719**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67719) — New header: links should always lead to new UI if the header is rendered in new UI  
[**TW-71417**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71417) — List of affected projects shown in the &quot;Versioned settings disabled&quot; health status report should only show projects whose settings were converted during the upgrade  
[**TW-71239**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71239) — Edit tags dialog: no way to enable checkbox &quot;Apply to all snapshot dependencies&quot; without adding a new tag  
[**TW-68651**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68651) — Do not display Authorize button if there are no free agent licenses.  
[**TW-70173**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70173) — REST API: add agent pool and environment to cloud image response  
[**TW-71384**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71384) — Agents sidebar: cloud agents are displayed matching when there&#39;s no search  
[**TW-71399**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71399) — Orphaned Current Entity hint in the Classic UI.  
[**TW-71401**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71401) — Sidebar hints position is not accurate.  
[**TW-69204**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69204) — Add a hint and consider renaming &quot;Auto-install packages&quot; option in Python runner  
[**TW-71355**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71355) — Perforce server workspaces: improve clean-up logging.  
[**TW-70728**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70728) — Do not resize Hints popup when different topics are selected.  
[**TW-70805**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70805) — Not possible to switch nodes runtime if the main node was stopped not gracefully.  
[**TW-53024**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-53024) — Refactor the audit\_additional\_object table  
[**TW-70718**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70718) — Tips for the project page are shown on the build configuration page  
[**TW-70719**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70719) — Tips for Sidebar-\&gt;Favorites are not shown when Sidebar is scrolled.  
[**TW-70720**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70720) — Tips for Build Statuses are not displayed on project overview.  
[**TW-70724**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70724) — Tips are not hidden sometimes.  
[**TW-70725**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70725) — Not possible to reach Learn More link in Tips.  
[**TW-70741**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70741) — Do not show &quot;current entity&quot; hint for Navigation in the Administration area  
[**TW-71381**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71381) — Unable to pull the official jetbrains/teamcity-server image when docker is configured with a user namespace  
[**TW-71413**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71413) — Reset/pause search indexing do not work with TypeError: PauseProcessing is not a function  
[**TW-70975**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70975) — &quot;Elasticsearch index successfully created&quot;, even if an error occurred  
[**TW-71201**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71201) — ElasticSearch connection problems are not fully logged  
[**TW-70995**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70995) — &quot;Unable to parse response body&quot; when connecting to ElasticSearch instance with wrong credentials  
[**TW-68042**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68042) — Selected build configuration in artifact dependency isn&#39;t expanded and scrolled with the new project selector  
[**TW-70973**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70973) — &quot;Unexpected response&quot; when saving ElasticSearch configuration  
[**TW-70668**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70668) — Search mode changes from versioned settings are not applied until server restart  
[**TW-71279**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71279) — Auto-detected step with poetry does not find pyproject.toml because of empty working directory  
[**TW-70740**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70740) — Make managing search index available for root project administrator  
[**TW-71363**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71363) — Node.js runner: Don&#39;t suggest using npm cli command if package-lock.json is absent  
[**TW-71305**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71305) — Make sure branch\_name column can always store unicode characters  
[**TW-70746**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70746) — Retry artifacts download on `Expected content length doesn&#39;t match downloaded file size` error  
[**TW-71380**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71380) — Custom build dialog is not shown fully in the Pending Changes tab if there are just a few changes  
[**TW-70844**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70844) — Scroll bar grows forever on Code Inspection tab in experimental UI  
[**TW-65734**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65734) — Project can stuck in the read-only mode after versioned settings were re-enabled  
[**TW-68810**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68810) — Deadlock found when trying to get lock in InnoDB.  
[**TW-70205**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70205) — Dotnet test: TestCaseFilter cropped because of CMD command limit of 8191 characters  
[**TW-71317**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71317) — Modify DSL extension for Kotlin script build steps: do not use references to a particular version of the tool if the user selected to use bundled tool  
[**TW-70600**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70600) — Dedicated DSL for kotlin step  
[**TW-70604**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70604) — Kotlin step: simplest hello world shows warnings in build log  
[**TW-71277**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71277) — Auto-detect poetry environment tool, if pyproject.toml contains tool.poetry section  
[**TW-66513**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66513) — Personal patch upload: unable to view diff for a patch uploaded via the web UI or REST API  
[**TW-62755**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-62755) — Section pull-requests presents in new build page even if pull requests are absent  
[**TW-71196**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71196) — Maven transitive dependencies can stop working if a plugin is uploaded to the server with () in the plugin zip file name  
[**TW-71254**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71254) — Build configuration page isn&#39;t updated for a newly created configuration  
[**TW-71300**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71300) — Plugin is not reloaded if it&#39;s version is the same but unpacked plugin directory is different  
[**TW-71252**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71252) — Unable to sort search results by time  
[**TW-71330**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71330) — Don&#39;t show Permalinks if the corresponding build doesn&#39;t exist  
[**TW-71118**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71118) — CredentialsJson secure value isn&#39;t unscrambling in meta runners  
[**TW-70808**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70808) — Secondary node can get MAIN\_NODE responsibility after restart in some cases.  
[**TW-71185**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71185) — Build isn&#39;t trigger for changes in the old PR request (Gitlab)  
[**TW-70634**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70634) — ElasticSearch with empty index field does not work  
[**TW-70931**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70931) — Do not show Reload Updated plugin button in Administration-\&gt;Plugins if the plugin is updated to the same version.  
[**TW-68850**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68850) — Impossible to upload/delete SSL certificate on the secondary node.  
[**TW-71199**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71199) — Node.js runner: Make build problem description more clear  
[**TW-71303**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71303) — Some of the REST API methods return 500 response code when 400 would be more applicable  
[**TW-67120**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67120) — kotlin.collections package appears in Code Coverage tab even though it&#39;s not included for inspection and also explicitly excluded  
[**TW-71283**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71283) — Nodejs runner left script file in buildTemp directory  
[**TW-71276**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71276) — Missing default values for auto-detected python steps  
[**TW-68193**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68193) — Agent re-install results in clean checkout  
[**TW-70330**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70330) — Warnings &quot;Extension attempted to overwrite value of the model parameter &quot;serverUrl&quot;&quot; after visiting the Administration -\&gt; Plugins page  
[**TW-68731**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68731) — Do not display &quot;Download build log&quot; link in expanded build section in the Builds Queue and on the queued build page.  
[**TW-67248**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67248) — Experimental UI: Clicking on a tag in Custom Run popup filters the list of builds by that tag instead of adding the tag in the popup  
[**TW-65449**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65449) — Path to artifact is not changing in the experimental UI  
[**TW-64970**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64970) — There&#39;s missing &quot;Export build chain graph&quot; menu item in build actions popup  
[**TW-71237**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71237) — Build status isn&#39;t updated in the classic UI  
[**TW-71238**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71238) — Sidebar hides and appears after typing letter &quot;s&quot; in the addition of the tags dialog  
[**TW-71064**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71064) — Edit tags dialog: support &quot;Apply to dependencies&quot; checkbox  
[**TW-70700**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70700) — No ability to view code coverage reports for composite build in Experimental UI.  
[**TW-70701**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70701) — &quot;Could not load code coverage summary&quot; error for the queued build on the build overview page.  
[**TW-70624**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70624) — Elastic search throws exceptions if search phrase is not finished  
[**TW-70298**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70298) — Do not count composite and agentless builds in build distribution limits for secondary nodes.  
[**TW-71095**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71095) — Twitching configuration page with queued build  
[**TW-70862**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70862) — Lots of errors about failed git fetch in teamcity-vcs.log  
[**TW-71176**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71176) — Gradle tasks UI field is limited to 256 characters.  
[**TW-71134**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71134) — Trim spaces in the confirm server URL dialog  
[**TW-70615**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70615) — Remove combined Elastic/Local search modes  
[**TW-70976**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70976) — Test connection, Create/Delete index buttons say &quot;Do you want to discard your changes?&quot;  
[**TW-70761**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70761) — .NET autodetects msbuild step with .NET Framework \&lt; 4.0  
[**TW-71122**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71122) — Maven teamcity-configs-generate goal fails because it can&#39;t find kotlin-grammar-tools dependency  
[**TW-62885**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-62885) — There is no information about how many times the test was run and how many failures of this test in new UI  
[**TW-64838**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64838) — Only one build configuration is displayed in test info for composite build if the test was failed in few builds  
[**TW-70955**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70955) — &quot;There are no tests on requested page&quot; when changing current scope  
[**TW-61956**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-61956) — &quot;build configuration config is not found, use current settings from TeamCity server&quot; after build configuration was removed\restored using versioned settings  
[**TW-71028**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71028) — Update dotnet inspections and dupFinder tools to 2021.1.0  
[**TW-70717**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70717) — Customise sidebar icon isn&#39;t visible on page load  
[**TW-70770**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70770) — BeanCreationException when starting main node while the secondary is running (with main node responsibility)  
[**TW-70506**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70506) — Problem starting the plugin &#39;/opt/buildagent/plugins/nuget-agent/bin/credential-plugin/netcoreapp3.0/CredentialProvider.TeamCity.dll&#39;  
[**TW-70347**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70347) — A build does not checkout source code despite presence of VCS roots  
[**TW-70772**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70772) — Cannot detect VS 2019 when an agent has VS 2019 Community and VS 2019 Build tool of the same version installed.  
[**TW-69007**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69007) — Sonar runner plugin does not support new sonar-scanner-msbuild versions  
[**TW-69832**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69832) — Can run on agents should not be shown for agent less build  
[**TW-70558**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70558) — Tests search filter is not updated if previous filter is a substring of it  
[**TW-70656**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70656) — Project page displays outdated build status  
[**TW-70858**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70858) — Do not allow subprojects sorting in a read only project.  
[**TW-66224**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66224) — Do not display &quot;Download log&quot; link for the queued build in Experimental UI.  
[**TW-65495**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65495) — Extended commit description is not displayed in the Build Overview page  
[**TW-68017**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68017) — Build overview: make changes look consistent with the changes page  
[**TW-69438**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69438) — For multi-line commits it may be not visible that the commit message is multi-line  
[**TW-66033**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66033) — Part of the long commit messages are getting hidden on changes page  
[**TW-70586**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70586) — Incorrect VCS labels are shown in experimental UI if page wasn&#39;t reload  
[**TW-70816**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70816) — The last symbol of commit message for changes is cropped  
[**TW-70764**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70764) — The main node may be unable to start after switching the main node to another one  
[**TW-70768**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70768) — Unable to restart secondary node after giving it the main node responsibility  
[**TW-70439**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70439) — Cannot search by phrase in double quotes (error cannot run PhraseQuery)  
[**TW-70258**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70258) — IllegalArgumentException: number of documents in the index cannot exceed 2147483519  
[**TW-70802**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70802) — Unexpected error on trying to change main node responsibility.  
[**TW-70629**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70629) — Execute Step mode is ignored when using meta-runners  
[**TW-70747**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70747) — Custom executable in .NET runner has Required SDK, but agent requirement is not generated  
[**TW-70122**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70122) — Issue log tab thread works more than 2 hours for one of build configurations  
[**TW-70657**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70657) — &quot;Unsupported build value&quot; WARN in teamcity-server.log  
[**TW-70775**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70775) — Automatically enable disabled plugins after giving secondary node the main node responsibility  
[**TW-70776**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70776) — Improve logging related to main/secondary node detection on a server startup  
[**TW-70757**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70757) — UI hint might visually merge with header  
[**TW-70755**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70755) — Apostrophes don&#39;t render in UI hints  
[**TW-70304**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70304) — In two-line mode, Changes/Agent column can have too much unused space  
[**TW-70328**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70328) — Autodetect of Required SDK works incorrectly for the .Net test build step  
[**TW-70136**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70136) — No auto-detection of Required SDK for VS solution  
[**TW-70423**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70423) — Issue with multiple VCSRoots using Feature Branches  
[**TW-70113**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70113) — Required SDK is empty for Auto-detected Cross-platform MSBuild step  
[**TW-70687**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70687) — User isn&#39;t redirected to the login page after log out from TeamCity  
[**TW-63753**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-63753) — Commit titles are trimmed  
[**TW-70171**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70171) — Incorrect Network Error issue text in Sakura UI  
[**TW-70329**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70329) — Weird parameters with the `_DO_NOT_USE_` suffix in windowsservercore agent image  
[**TW-69704**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69704) — Improve server logging related to AgentsLoadBalancer  
[**TW-64017**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64017) — VCS label is not displayed in the Changes tab in new UI  
[**TW-70127**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70127) — Agents page is broken for user without &quot;View agent details&quot; permission in Experimental UI.  
[**TW-70482**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70482) — Stop showing unreachable changes from detached DAG based VCS roots in non default branches  
[**TW-70393**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70393) — Improve Required SDK field hint  
[**TW-69876**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69876) — Change in a build configuration name isn&#39;t reflected until page is reloaded  
[**TW-70480**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70480) — Changes from unrelated branch are shown after one VCS root is detached and another one is attached to the build configuration  
[**TW-70391**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70391) — Option &quot;Exclude default branch changes from other branches&quot; does not have an effect on changes from detached VCS roots  
[**TW-70463**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70463) — TeamCity may mark a properly finished test as ignored  
[**TW-67022**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67022) — Infinitive loader after clicking on magic wands in the .Net runner if some mistakes were made in Projects or Test assemblies field  
[**TW-68487**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68487) — Investigation for a build problem doesn&#39;t fit in a pop-up with a long scope  
[**TW-70070**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70070) — .NET run command started on agent without dotnet  
[**TW-69380**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69380) — Test duration changes for Composite build, which has several dependencies with this test  
[**TW-68164**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68164) — Broken VCS Roots are no longer shown as broken in VCS Roots list of a project  
[**TW-70160**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70160) — Remove magic for .NET commands and fields where it is redundant  
[**TW-65343**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65343) — Rendering ANSI color escape sequences in stacktraces for failed tests in build Overview page  
[**TW-70274**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70274) — &quot;Parameter preferences&quot; button doesn&#39;t work when creating new git VCS root manually  
[**TW-70244**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70244) — User-defined parameters are not displayed for fields in the project creation dialog if VCS root was not created earlier  
[**TW-70229**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70229) — Tests on Passed and All tests tab depend on the checkbox &quot;Only new N&quot; enabled on the Failed tab  
[**TW-64842**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64842) — Information about test is changed after expanding the section with this test  
[**TW-70073**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70073) — Files changed show incorrect URL on experimental UI  
[**TW-69950**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69950) — New failures in a composite build don&#39;t link to snapshot dependency  
[**TW-69977**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69977) — Do not allow Python 2.x + venv  
[**TW-69978**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69978) — Link Build parameters should not be shown to a user without corresponding permissions  
[**TW-70208**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70208) — Rename &quot;Virtualenv create arguments:&quot; field, if venv is selected  
[**TW-70143**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70143) — ClassCastException: class jetbrains.buildServer.serverSide.impl.RunningBuildWrapper cannot be cast to class jetbrains.buildServer.serverSide.BuildEx  
[**TW-70111**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70111) — Disable &quot;Connect&quot; buttons in Authentication settings on a read-only server  
[**TW-69883**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69883) — Agents overview: move enable toggle to the left  
[**TW-69796**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69796) — Personal limited to project token with build Permissions scopes doesn&#39;t work without &quot;View project and all parent projects&quot; permission  
[**TW-69972**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69972) — Rename blocks in build log for python steps with venv  
[**TW-68725**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68725) — insufficient permissions are displayed in the dialog of creation Limit to project token

#### Performance Problem

[**TW-67312**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67312) — Artifacts storage admin tab is slow  
[**TW-71425**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71425) — BuildsSchedule of a Root project is very slow if there are many build configurations and hundreds of agents  
[**TW-64358**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64358) — Much time in UserModelImpl afterCleanup extension (super slow delete from user\_projects\_visibility query)  
[**TW-70154**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70154) — REST: testOccurrence requests for test counters must not request all statistics data from build statistics  
[**TW-70500**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70500) — Slow removal of builds from the builds metadata index  
[**TW-70325**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70325) — Cleanup parameters of a running build on an agent once the build finishes  
[**TW-68674**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68674) — User profile -\&gt;Access tokens page is loading extremely slowly on servers with many projects.

#### Cosmetics

[**TW-70766**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70766) — TeamCity badge looks blurry on github  
[**TW-70759**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70759) — Extra lines in &quot;Get build status icon&quot; dialog after switching tabs  
[**TW-70388**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70388) — Use another font for Show Hints link in the Header.  
[**TW-71354**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71354) — Delete Perforce stream workspace: add validation  
[**TW-71173**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71173) — Node.js runner: improve the dialog of build feature &quot;NPM Registry Connection&quot;  
[**TW-71397**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71397) — Unstick permalinks from the upper line  
[**TW-70049**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70049) — Align fields on the Run Custom build dialog  
[**TW-71325**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71325) — Change search indexer state from &quot;RUNNING&quot; to &quot;ACTIVE&quot;  
[**TW-70401**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70401) — &quot;Environment tool: None&quot; is marked as non-default value in Python Runner  
[**TW-55363**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-55363) — Static running build icon can be shown on a build log page for a finished build  
[**TW-70124**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70124) — &quot;Permissions scope&quot; options in the Creation of Access Token dialog are not very clear  
[**TW-70625**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70625) — Diagnostics -\&gt; Search shows different Indexer states for Lucene and Elastic  
[**TW-70705**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70705) — Change the style of builds presentation in Code Coverage section for composite builds.  
[**TW-70446**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70446) — teamcity.agent.failBuildOnCleanCheckout displays confusing output  
[**TW-70932**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70932) — Redundant colon after test suite name in &quot;Current scope&quot; line  
[**TW-64634**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64634) — Code coverage details on the build page in new UI look not nice  
[**TW-70394**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70394) — Magic Wand dialog does not mention Targeting Packs in .NET Required SDK  
[**TW-70189**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70189) — Tests tab does not properly show more than 999 test occurrences  
[**TW-70067**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70067) — Order debug logging presets alphabetically

#### Task

[**TW-71218**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71218) — Search plugin: UI improvements  
[**TW-66859**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-66859) — Redesign agents communication with secondary nodes  
[**TW-71437**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71437) — Update Java in docker agent images  
[**TW-71431**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71431) — Update &quot;What&#39;s new&quot; link in header  
[**TW-71157**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71157) — Deprecate the old Node.js runner  
[**TW-71507**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71507) — Update TeamCity docker image components  
[**TW-70441**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70441) — Use REST `cloud/images` endpoint instead of `overview?cloudImages` controller  
[**TW-71186**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71186) — Update bundled Tomcat to the latest 8.5.x  
[**TW-69742**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69742) — Unbundle old rest API plugins  
[**TW-57968**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-57968) — Make investigation assigner plugin working on a read-only node  
[**TW-69959**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69959) — Service workers: plugin expiration  
[**TW-71187**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71187) — Make Сheckout policy &quot;Auto&quot; default for git  
[**TW-71331**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71331) — Store build\_number in nvarchar in case of SQL server  
[**TW-67244**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-67244) — GraphQL back-end setup  
[**TW-69158**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69158) — [S3 Storage] Use signature version 4 by default and remove the option from UI.  
[**TW-70424**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70424) — Minimize number of suggested SDK versions on .NET steps auto-detection  
[**TW-64234**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-64234) — Create index on table remember\_me  
[**TW-71327**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71327) — Add API for polling detached build on server  
[**TW-70431**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70431) — Simplify the logic of the Pull Requests plugin  
[**TW-65633**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-65633) — Update bundled JaCoCo version  
[**TW-71188**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71188) — Update bundled Java to 11.0.11.9.1  
[**TW-71272**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71272) — Upgrade Kotlin used for DSL to the latest 1.4.x version  
[**TW-71240**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71240) — Consider updating JDBC drivers  
[**TW-71246**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71246) — Update IntelliJ IDEA coverage engine bundled with TeamCity  
[**TW-68437**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68437) — Update bundled Ant to version 1.10.10  
[**TW-71191**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71191) — Update bundled dotCover version to 2021.1.1  
[**TW-71194**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71194) — Update SVNKit library from 1.10.1 to the latest 1.10.3  
[**TW-71156**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-71156) — Update bundled ReSharper tool version to 2021.1.1  
[**TW-70753**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70753) — Do not modify read only projects and build configurations on changes in external ids  
[**TW-70628**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70628) — Replace legacy dotnet property providers with the new one  
[**TW-69993**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69993) — Clear Service Worker cache on logout  
[**TW-70605**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70605) — Upgrade JGit version bundled with git plugin  
[**TW-70754**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70754) — Do not change archiving status of read only sub projects  
[**TW-70323**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70323) — Make header administrator link rendered with text, not icon  
[**TW-70260**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70260) — Ephemeral (with a small life period) cloud agents should be marked by an agent configuration property  
[**TW-69946**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-69946) — Service worker: cache project permissions requests  
[**TW-70181**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70181) — Correct texts for Access Tokens in User Settings  
[**TW-70101**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70101) — Add a limit for a number of build problems which can be reported per build  
[**TW-70023**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-70023) — Change revalidation header  
[**TW-68527**](https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FTW-68527) — Add a help icon/link near the personal build option in the run custom dialog

#### Security Problem

4 security problems have been fixed.